# ДІАГРАМИ ПРОЦЕСІВ СИСТЕМИ DTS

---

## 1. ЗАГАЛЬНА СХЕМА РОБОТИ СИСТЕМИ

```
┌─────────────────────────────────────────────────────────────────┐
│                    СИСТЕМА УПРАВЛІННЯ ЗАЯВКАМИ DTS              │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                        ВХІД В СИСТЕМУ                          │
│  Логін + Пароль → Перевірка → Визначення ролі → Доступ до функцій │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    ГОЛОВНЕ МЕНЮ (за ролями)                     │
│                                                                 │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ │
│  │ Сервісна    │ │ Оператор    │ │ Зав. склад  │ │ Бухгалтер   │ │
│  │ служба      │ │             │ │             │ │             │ │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ │
│                                                                 │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ │
│  │ Регіональний│ │ Адміністра- │ │ Звіти       │ │ Аналітика   │ │
│  │ керівник    │ │ тор         │ │             │ │             │ │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

---

## 2. ЖИЗНЕННИЙ ЦИКЛ ЗАЯВКИ

```
┌─────────────────────────────────────────────────────────────────┐
│                    ЖИЗНЕННИЙ ЦИКЛ ЗАЯВКИ                        │
└─────────────────────────────────────────────────────────────────┘

1. СТВОРЕННЯ ЗАЯВКИ
   ┌─────────────────┐
   │ Сервісна служба │
   │ Створює заявку  │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Статус: "Заявка"│
   └─────────────────┘

2. ОБРОБКА ОПЕРАТОРОМ
            │
            ▼
   ┌─────────────────┐
   │ Оператор        │
   │ Редагує заявку  │
   │ Вводить роботи  │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Статус: "В роботі"│
   └─────────────────┘

3. ПІДТВЕРДЖЕННЯ ЗАВ. СКЛАДОМ
            │
            ▼
   ┌─────────────────┐
   │ Зав. склад      │
   │ Перевіряє       │
   │ матеріали       │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Підтвердження   │
   │ зав. складу:    │
   │ ✅ Підтверджено │
   │ ❌ Відмова      │
   └─────────────────┘

4. ПІДТВЕРДЖЕННЯ БУХГАЛТЕРОМ
            │
            ▼
   ┌─────────────────┐
   │ Бухгалтер       │
   │ Перевіряє       │
   │ фінанси         │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Підтвердження   │
   │ бухгалтера:     │
   │ ✅ Підтверджено │
   │ ❌ Відмова      │
   └─────────────────┘

5. ФІНАЛЬНЕ ПІДТВЕРДЖЕННЯ
            │
            ▼
   ┌─────────────────┐
   │ Регіональний    │
   │ керівник        │
   │ Фінальне рішення│
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Підтвердження   │
   │ регіонального   │
   │ керівника:      │
   │ ✅ Підтверджено │
   │ ❌ Відмова      │
   └─────────────────┘

6. ЗАВЕРШЕННЯ
            │
            ▼
   ┌─────────────────┐
   │ Статус:         │
   │ "Виконано"      │
   │ Заявка в архіві │
   └─────────────────┘
```

---

## 3. СХЕМА ПРАВ ДОСТУПУ

```
┌─────────────────────────────────────────────────────────────────┐
│                    ПРАВА ДОСТУПУ ЗА РОЛЯМИ                      │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ СЕРВІСНА СЛУЖБА                                                 │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ ✅ Створення заявок                                         │ │
│ │ ✅ Редагування заявок (на етапі створення)                 │ │
│ │ ✅ Перегляд всіх заявок                                     │ │
│ │ ❌ Підтвердження заявок                                     │ │
│ │ ❌ Доступ до адміністративних функцій                       │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ ОПЕРАТОР                                                        │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ ✅ Редагування заявок (всі поля крім підтверджень)         │ │
│ │ ✅ Введення інформації про роботи                          │ │
│ │ ✅ Вказування інженерів                                    │ │
│ │ ✅ Перегляд заявок                                         │ │
│ │ ❌ Підтвердження заявок                                    │ │
│ │ ❌ Доступ до адміністративних функцій                       │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ ЗАВ. СКЛАД                                                      │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ ✅ Підтвердження заявок (матеріали)                        │ │
│ │ ✅ Відмова з обґрунтуванням                                │ │
│ │ ✅ Перегляд заявок                                         │ │
│ │ ✅ Коментарі по матеріалах                                 │ │
│ │ ❌ Редагування основних полів заявки                       │ │
│ │ ❌ Доступ до адміністративних функцій                       │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ БУХГАЛТЕР                                                       │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ ✅ Підтвердження заявок (фінанси)                          │ │
│ │ ✅ Відмова з обґрунтуванням                                │ │
│ │ ✅ Фінансові коментарі                                     │ │
│ │ ✅ Перегляд заявок                                         │ │
│ │ ✅ Генерація фінансових звітів                             │ │
│ │ ❌ Редагування основних полів заявки                       │ │
│ │ ❌ Доступ до адміністративних функцій                       │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ РЕГІОНАЛЬНИЙ КЕРІВНИК                                           │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ ✅ Фінальне підтвердження заявок                           │ │
│ │ ✅ Відмова з обґрунтуванням                                │ │
│ │ ✅ Перегляд всіх заявок регіону                            │ │
│ │ ✅ Аналітика та звіти                                      │ │
│ │ ✅ Контроль ефективності                                   │ │
│ │ ❌ Редагування основних полів заявки                       │ │
│ │ ❌ Доступ до адміністративних функцій                       │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ АДМІНІСТРАТОР                                                   │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ ✅ Повний доступ до всіх функцій                           │ │
│ │ ✅ Управління користувачами                                │ │
│ │ ✅ Налаштування прав доступу                               │ │
│ │ ✅ Імпорт з Excel                                          │ │
│ │ ✅ Системні налаштування                                   │ │
│ │ ✅ Резервне копіювання                                     │ │
│ │ ✅ Логи та аудит                                           │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. СХЕМА ІМПОРТУ З EXCEL

```
┌─────────────────────────────────────────────────────────────────┐
│                    ПРОЦЕС ІМПОРТУ З EXCEL                      │
└─────────────────────────────────────────────────────────────────┘

1. ПІДГОТОВКА ФАЙЛУ
   ┌─────────────────┐
   │ Excel файл      │
   │ (.xlsx, .xls)   │
   │ Перший рядок -  │
   │ заголовки       │
   └─────────────────┘
            │
            ▼

2. ЗАВАНТАЖЕННЯ
   ┌─────────────────┐
   │ Кнопка          │
   │ "Завантажити    │
   │ дані з Excel"   │
   └─────────────────┘
            │
            ▼

3. АВТОМАТИЧНЕ РОЗПІЗНАВАННЯ
   ┌─────────────────┐
   │ Система         │
   │ аналізує        │
   │ заголовки       │
   │ колонок         │
   └─────────────────┘
            │
            ▼

4. НАЛАШТУВАННЯ МАПІНГУ
   ┌─────────────────┐
   │ Користувач      │
   │ налаштовує      │
   │ відповідність   │
   │ колонок         │
   └─────────────────┘
            │
            ▼

5. ПЕРЕВІРКА ДАНИХ
   ┌─────────────────┐
   │ Попередній      │
   │ перегляд        │
   │ даних           │
   └─────────────────┘
            │
            ▼

6. ІМПОРТ
   ┌─────────────────┐
   │ Створення       │
   │ заявок в        │
   │ системі         │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Заявки в        │
   │ розділі         │
   │ "Імпортовані"   │
   └─────────────────┘
```

---

## 5. СХЕМА ГЕНЕРАЦІЇ ЗВІТІВ

```
┌─────────────────────────────────────────────────────────────────┐
│                    ГЕНЕРАЦІЯ ЗВІТІВ                             │
└─────────────────────────────────────────────────────────────────┘

1. ВИБІР ТИПУ ЗВІТУ
   ┌─────────────────┐
   │ Користувач      │
   │ вибирає тип     │
   │ звіту           │
   └─────────────────┘
            │
            ▼

2. НАЛАШТУВАННЯ ПАРАМЕТРІВ
   ┌─────────────────┐
   │ Встановлення    │
   │ фільтрів:       │
   │ - Період        │
   │ - Регіон        │
   │ - Статус        │
   │ - Поля          │
   └─────────────────┘
            │
            ▼

3. ОБРОБКА ДАНИХ
   ┌─────────────────┐
   │ Система         │
   │ фільтрує та     │
   │ обробляє        │
   │ дані            │
   └─────────────────┘
            │
            ▼

4. ГЕНЕРАЦІЯ ЗВІТУ
   ┌─────────────────┐
   │ Створення       │
   │ звіту в         │
   │ HTML форматі    │
   └─────────────────┘
            │
            ▼

5. ВІДОБРАЖЕННЯ
   ┌─────────────────┐
   │ Відкриття       │
   │ звіту в         │
   │ новому вікні    │
   └─────────────────┘
            │
            ▼

6. ЕКСПОРТ (опціонально)
   ┌─────────────────┐
   │ Експорт в:      │
   │ - Excel         │
   │ - PDF           │
   │ - CSV           │
   └─────────────────┘
```

---

## 6. СХЕМА НАЛАШТУВАННЯ КОЛОНОК

```
┌─────────────────────────────────────────────────────────────────┐
│                    НАЛАШТУВАННЯ КОЛОНОК                         │
└─────────────────────────────────────────────────────────────────┘

1. ВІДКРИТТЯ НАЛАШТУВАНЬ
   ┌─────────────────┐
   │ Кнопка          │
   │ "Налаштувати    │
   │ колонки"        │
   └─────────────────┘
            │
            ▼

2. ВИБІР КОЛОНОК
   ┌─────────────────┐
   │ Список всіх     │
   │ доступних       │
   │ колонок         │
   └─────────────────┘
            │
            ▼

3. НАЛАШТУВАННЯ ВІДОБРАЖЕННЯ
   ┌─────────────────┐
   │ Вибір колонок   │
   │ для             │
   │ відображення    │
   └─────────────────┘
            │
            ▼

4. ЗМІНА ПОРЯДКУ
   ┌─────────────────┐
   │ Перетягування   │
   │ або стрілки     │
   │ ▲ ▼             │
   └─────────────────┘
            │
            ▼

5. ЗБЕРЕЖЕННЯ
   ┌─────────────────┐
   │ Застосування    │
   │ налаштувань     │
   │ до таблиці      │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Збереження      │
   │ для             │
   │ користувача     │
   └─────────────────┘
```

---

## 7. СХЕМА ФІЛЬТРАЦІЇ ТА ПОШУКУ

```
┌─────────────────────────────────────────────────────────────────┐
│                    ФІЛЬТРАЦІЯ ТА ПОШУК                          │
└─────────────────────────────────────────────────────────────────┘

1. ВСТАНОВЛЕННЯ ФІЛЬТРІВ
   ┌─────────────────┐
   │ Користувач      │
   │ вводить         │
   │ критерії        │
   │ пошуку          │
   └─────────────────┘
            │
            ▼

2. ОБРОБКА ЗАПИТУ
   ┌─────────────────┐
   │ Система         │
   │ обробляє        │
   │ фільтри         │
   └─────────────────┘
            │
            ▼

3. ПОШУК ДАНИХ
   ┌─────────────────┐
   │ Пошук в         │
   │ базі даних      │
   │ за критеріями   │
   └─────────────────┘
            │
            ▼

4. ВІДФІЛЬТРОВАНІ РЕЗУЛЬТАТИ
   ┌─────────────────┐
   │ Відображення    │
   │ відповідних     │
   │ заявок          │
   └─────────────────┘
            │
            ▼

5. ОЧИЩЕННЯ ФІЛЬТРІВ
   ┌─────────────────┐
   │ Кнопка          │
   │ "Очистити       │
   │ фільтри"        │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Повернення до   │
   │ всіх заявок     │
   └─────────────────┘
```

---

## 8. СХЕМА БЕЗПЕКИ ТА АУДИТУ

```
┌─────────────────────────────────────────────────────────────────┐
│                    БЕЗПЕКА ТА АУДИТ                            │
└─────────────────────────────────────────────────────────────────┘

1. АВТОРИЗАЦІЯ
   ┌─────────────────┐
   │ Логін + Пароль  │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Перевірка       │
   │ в базі          │
   │ користувачів    │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Визначення      │
   │ ролі та         │
   │ прав доступу    │
   └─────────────────┘

2. ЛОГУВАННЯ ДІЙ
   ┌─────────────────┐
   │ Кожна дія       │
   │ користувача     │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Запис в лог:    │
   │ - Користувач    │
   │ - Час           │
   │ - Дія           │
   │ - Об'єкт        │
   └─────────────────┘

3. РЕЗЕРВНЕ КОПІЮВАННЯ
   ┌─────────────────┐
   │ Автоматичне     │
   │ створення       │
   │ бекапів         │
   └─────────────────┘
            │
            ▼
   ┌─────────────────┐
   │ Збереження в    │
   │ безпечному      │
   │ місці           │
   └─────────────────┘

4. ВІДНОВЛЕННЯ
   ┌─────────────────┐
   │ При необхідності│
   │ відновлення     │
   │ з бекапу        │
   └─────────────────┘
```

---

## 9. СХЕМА МОБІЛЬНОЇ ВЕРСІЇ

```
┌─────────────────────────────────────────────────────────────────┐
│                    МОБІЛЬНА ВЕРСІЯ                              │
└─────────────────────────────────────────────────────────────────┘

1. ВИЗНАЧЕННЯ ПРИСТРОЮ
   ┌─────────────────┐
   │ Система         │
   │ визначає        │
   │ розмір екрану   │
   └─────────────────┘
            │
            ▼

2. АДАПТАЦІЯ ІНТЕРФЕЙСУ
   ┌─────────────────┐
   │ Комп'ютер       │
   │ (1024px+)       │
   │ ┌─────────────┐ │
   │ │ Повний       │ │
   │ │ функціонал   │ │
   │ └─────────────┘ │
   └─────────────────┘

   ┌─────────────────┐
   │ Планшет         │
   │ (768-1023px)    │
   │ ┌─────────────┐ │
   │ │ Оптимізований│ │
   │ │ інтерфейс   │ │
   │ └─────────────┘ │
   └─────────────────┘

   ┌─────────────────┐
   │ Смартфон        │
   │ (<768px)        │
   │ ┌─────────────┐ │
   │ │ Спрощений   │ │
   │ │ інтерфейс   │ │
   │ └─────────────┘ │
   └─────────────────┘

3. ОСОБЛИВОСТІ МОБІЛЬНОЇ ВЕРСІЇ
   ┌─────────────────┐
   │ - Згортання     │
   │   меню          │
   │ - Великі        │
   │   кнопки        │
   │ - Оптимізовані  │
   │   форми         │
   │ - Швидкий       │
   │   доступ        │
   └─────────────────┘
```

---

## 10. СХЕМА ТЕХНІЧНОЇ АРХІТЕКТУРИ

```
┌─────────────────────────────────────────────────────────────────┐
│                    ТЕХНІЧНА АРХІТЕКТУРА                         │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ КОРИСТУВАЧІ                                                     │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ │
│ │ Сервісна    │ │ Оператор    │ │ Зав. склад  │ │ Бухгалтер   │ │
│ │ служба      │ │             │ │             │ │             │ │
│ └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ │
│ ┌─────────────┐ ┌─────────────┐                                 │
│ │ Регіональний│ │ Адміністра- │                                 │
│ │ керівник    │ │ тор         │                                 │
│ └─────────────┘ └─────────────┘                                 │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│ ФРОНТЕНД (React)                                                │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ - Компоненти інтерфейсу                                    │ │
│ │ - Обробка форм                                             │ │
│ │ - Валідація даних                                          │ │
│ │ - Взаємодія з користувачем                                 │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│ БЕКЕНД (Node.js + Express)                                      │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ - API endpoints                                            │ │
│ │ - Бізнес-логіка                                            │ │
│ │ - Валідація запитів                                        │ │
│ │ - Авторизація                                              │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│ БАЗА ДАНИХ (MongoDB)                                            │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ - Користувачі                                              │ │
│ │ - Заявки                                                   │ │
│ │ - Налаштування                                             │ │
│ │ - Логи                                                     │ │
│ │ - Бекапи                                                   │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│ ХОСТИНГ (Render)                                                │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ - Фронтенд: darex-trading-solutions-f.onrender.com         │ │
│ │ - Бекенд: darex-trading-solutions.onrender.com             │ │
│ │ - Автоматичне розгортання                                  │ │
│ │ - SSL сертифікати                                          │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

---

*Діаграми створені: Вересень 2025*  
*Версія: 1.0*
