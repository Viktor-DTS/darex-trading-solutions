# ІНСТРУКЦІЯ АДМІНІСТРАТОРА
## Система управління заявками DTS

---

## ЗМІСТ

1. [Вступ](#вступ)
2. [Управління користувачами](#управління-користувачами)
3. [Налаштування прав доступу](#налаштування-прав-доступу)
4. [Імпорт даних з Excel](#імпорт-даних-з-excel)
5. [Системні налаштування](#системні-налаштування)
6. [Резервне копіювання](#резервне-копіювання)
7. [Моніторинг та логи](#моніторинг-та-логи)
8. [Вирішення проблем](#вирішення-проблем)
9. [Безпека](#безпека)

---

## ВСТУП

Як адміністратор системи DTS, ви маєте повний доступ до всіх функцій та відповідальність за:
- Управління користувачами
- Налаштування прав доступу
- Імпорт та експорт даних
- Системні налаштування
- Безпеку системи
- Технічну підтримку

---

## УПРАВЛІННЯ КОРИСТУВАЧАМИ

### 2.1 Додавання нового користувача

#### Крок 1: Відкриття форми
1. Перейдіть в розділ **"Управління користувачами"**
2. Натисніть кнопку **"Додати користувача"**

#### Крок 2: Заповнення форми
```
┌─────────────────────────────────────────────────────────────────┐
│                    ДОДАВАННЯ КОРИСТУВАЧА                       │
│                                                                 │
│ Логін: [________________] *                                    │
│ Пароль: [________________] *                                   │
│ Підтвердження пароля: [________________] *                     │
│ Ім'я: [________________] *                                     │
│ Роль: [Оператор ▼] *                                           │
│ Регіон: [Дніпровський ▼] *                                    │
│ Email: [________________]                                      │
│ Телефон: [________________]                                    │
│                                                                 │
│ * - обов'язкові поля                                           │
│                                                                 │
│ [ЗБЕРЕГТИ] [СКАСУВАТИ]                                         │
└─────────────────────────────────────────────────────────────────┘
```

#### Крок 3: Вибір ролі
Доступні ролі:
- **Сервісна служба** - створення заявок
- **Оператор** - редагування заявок
- **Зав. склад** - підтвердження матеріалів
- **Бухгалтер** - фінансове підтвердження
- **Регіональний керівник** - фінальне підтвердження
- **Адміністратор** - повний доступ

#### Крок 4: Вибір регіону
Доступні регіони:
- **Україна** - доступ до всіх регіонів
- **Київський** - тільки Київський регіон
- **Дніпровський** - тільки Дніпровський регіон
- **Львівський** - тільки Львівський регіон
- **Хмельницький** - тільки Хмельницький регіон
- **Кропивницький** - тільки Кропивницький регіон

### 2.2 Редагування користувача

#### Крок 1: Знаходження користувача
1. Знайдіть користувача в списку
2. Натисніть кнопку **"Редагувати"** (іконка олівця)

#### Крок 2: Внесення змін
- Змініть необхідні поля
- Натисніть **"Зберегти"**

#### Крок 3: Зміна пароля
1. Натисніть **"Змінити пароль"**
2. Введіть новий пароль
3. Підтвердіть пароль
4. Натисніть **"Зберегти"**

### 2.3 Видалення користувача

#### Крок 1: Підтвердження
1. Натисніть кнопку **"Видалити"** (іконка кошика)
2. Підтвердіть видалення

#### Крок 2: Перевірка залежностей
Система перевірить:
- Чи є активні заявки користувача
- Чи є незбережені дані
- Чи є залежності в системі

### 2.4 Блокування користувача

#### Тимчасове блокування:
1. Відкрийте профіль користувача
2. Натисніть **"Заблокувати"**
3. Введіть причину блокування
4. Встановіть термін блокування

#### Розблокування:
1. Відкрийте профіль заблокованого користувача
2. Натисніть **"Розблокувати"**
3. Підтвердіть дію

---

## НАЛАШТУВАННЯ ПРАВ ДОСТУПУ

### 3.1 Відкриття налаштувань
1. Перейдіть в розділ **"Налаштування доступу"**
2. Виберіть роль для налаштування

### 3.2 Типи доступу
- **Повний доступ** - можна редагувати та видаляти
- **Тільки для читання** - можна тільки переглядати
- **Немає доступу** - функція недоступна

### 3.3 Налаштування доступу по вкладках

```
┌─────────────────────────────────────────────────────────────────┐
│                    НАЛАШТУВАННЯ ДОСТУПУ                        │
│                                                                 │
│ Роль: [Оператор ▼]                                             │
│                                                                 │
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ Вкладка                    │ Доступ                        │ │
│ ├─────────────────────────────────────────────────────────────┤ │
│ │ Сервісна служба            │ [Повний доступ ▼]            │ │
│ │ Оператор                   │ [Повний доступ ▼]            │ │
│ │ Зав. склад                 │ [Тільки для читання ▼]       │ │
│ │ Бухгалтер                  │ [Тільки для читання ▼]       │ │
│ │ Регіональний керівник      │ [Немає доступу ▼]            │ │
│ │ Адміністратор              │ [Немає доступу ▼]            │ │
│ │ Звіти                      │ [Тільки для читання ▼]       │ │
│ │ Аналіз ціни матеріалів     │ [Тільки для читання ▼]       │ │
│ │ Аналітика                  │ [Немає доступу ▼]            │ │
│ └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│ [ЗБЕРЕГТИ] [СКАСУВАТИ]                                         │
└─────────────────────────────────────────────────────────────────┘
```

### 3.4 Стандартні налаштування

#### Сервісна служба:
- Сервісна служба: Повний доступ
- Інші вкладки: Немає доступу

#### Оператор:
- Оператор: Повний доступ
- Звіти: Тільки для читання
- Аналіз ціни матеріалів: Тільки для читання
- Інші вкладки: Немає доступу

#### Зав. склад:
- Зав. склад: Повний доступ
- Звіти: Тільки для читання
- Аналіз ціни матеріалів: Тільки для читання
- Інші вкладки: Немає доступу

#### Бухгалтер:
- Бухгалтер: Повний доступ
- Звіти: Тільки для читання
- Аналіз ціни матеріалів: Тільки для читання
- Інші вкладки: Немає доступу

#### Регіональний керівник:
- Регіональний керівник: Повний доступ
- Звіти: Тільки для читання
- Аналіз ціни матеріалів: Тільки для читання
- Аналітика: Повний доступ
- Інші вкладки: Немає доступу

#### Адміністратор:
- Всі вкладки: Повний доступ

---

## ІМПОРТ ДАНИХ З EXCEL

### 4.1 Підготовка файлу

#### Формат файлу:
- Перший рядок - заголовки колонок
- Дані починаються з другого рядка
- Підтримувані формати: .xlsx, .xls, .csv
- Кодування: UTF-8

#### Приклад структури:
```
| Дата заявки | Замовник | Адреса | Тип обладнання | Найменування робіт | Сума |
|-------------|----------|--------|----------------|-------------------|------|
| 24.09.2025  | ФОП Іванов | Київ | DE-75 | ТО | 5000 |
| 25.09.2025  | ТОВ Петров | Львів | DE-35 | Ремонт | 3000 |
```

### 4.2 Процес імпорту

#### Крок 1: Завантаження файлу
1. Перейдіть в розділ **"Редагування заявок"**
2. Натисніть **"Завантажити дані з Excel"**
3. Виберіть файл на комп'ютері
4. Натисніть **"Відкрити"**

#### Крок 2: Автоматичне розпізнавання
Система автоматично розпізнає колонки на основі заголовків:
- "Дата" → поля дат
- "Клієнт", "Замовник" → поле замовника
- "Адреса" → поле адреси
- "Обладнання" → поля обладнання
- "Сума" → фінансові поля

#### Крок 3: Налаштування мапінгу
Якщо автоматичне розпізнавання не спрацювало:

```
┌─────────────────────────────────────────────────────────────────┐
│                    НАЛАШТУВАННЯ МАПІНГУ                         │
│                                                                 │
│ Колонка Excel: "Дата заявки" → Поле системи: [Дата заявки ▼]   │
│ Колонка Excel: "Замовник" → Поле системи: [Замовник ▼]         │
│ Колонка Excel: "Адреса" → Поле системи: [Адреса ▼]             │
│ Колонка Excel: "Тип обладнання" → Поле системи: [Тип обладнання ▼] │
│ Колонка Excel: "Роботи" → Поле системи: [Найменування робіт ▼] │
│ Колонка Excel: "Сума" → Поле системи: [Загальна сума послуги ▼] │
│                                                                 │
│ [ІМПОРТУВАТИ] [СКАСУВАТИ]                                       │
└─────────────────────────────────────────────────────────────────┘
```

#### Крок 4: Перевірка даних
Система покаже попередній перегляд:
```
┌─────────────────────────────────────────────────────────────────┐
│                    ПЕРЕДПЕРЕГЛЯД ДАНИХ                          │
│                                                                 │
│ Рядок 1:                                                       │
│ Дата заявки: 24.09.2025                                        │
│ Замовник: ФОП Іванов                                           │
│ Адреса: Київ                                                   │
│ Тип обладнання: DE-75                                          │
│ Найменування робіт: ТО                                         │
│ Сума: 5000                                                     │
│                                                                 │
│ Рядок 2:                                                       │
│ Дата заявки: 25.09.2025                                        │
│ Замовник: ТОВ Петров                                           │
│ Адреса: Львів                                                  │
│ Тип обладнання: DE-35                                          │
│ Найменування робіт: Ремонт                                     │
│ Сума: 3000                                                     │
│                                                                 │
│ [ПІДТВЕРДИТИ ІМПОРТ] [НАЗАД]                                   │
└─────────────────────────────────────────────────────────────────┘
```

#### Крок 5: Завершення імпорту
1. Перевірте дані
2. Натисніть **"Підтвердити імпорт"**
3. Імпортовані заявки з'являться у вкладці **"Імпортовані заявки"**

### 4.3 Обробка помилок

#### Помилки формату:
- Неправильний формат файлу
- Відсутні заголовки
- Порожні рядки на початку

#### Помилки даних:
- Неправильний формат дат
- Відсутні обов'язкові поля
- Неправильні значення

#### Вирішення:
1. Перевірте формат файлу
2. Виправте помилки в Excel
3. Повторіть імпорт

---

## СИСТЕМНІ НАЛАШТУВАННЯ

### 5.1 Налаштування регіонів

#### Додавання регіону:
1. Перейдіть в **"Налаштування"** → **"Регіони"**
2. Натисніть **"Додати регіон"**
3. Введіть назву регіону
4. Введіть код регіону
5. Натисніть **"Зберегти"**

#### Редагування регіону:
1. Знайдіть регіон в списку
2. Натисніть **"Редагувати"**
3. Внесіть зміни
4. Натисніть **"Зберегти"**

### 5.2 Налаштування компаній

#### Додавання компанії:
1. Перейдіть в **"Налаштування"** → **"Компанії"**
2. Натисніть **"Додати компанію"**
3. Заповніть форму:
   - Назва компанії
   - Код компанії
   - Контактна інформація
4. Натисніть **"Зберегти"**

### 5.3 Налаштування статусів

#### Стандартні статуси:
- Заявка
- В роботі
- Виконано
- Заблоковано

#### Додавання статусу:
1. Перейдіть в **"Налаштування"** → **"Статуси"**
2. Натисніть **"Додати статус"**
3. Введіть назву статусу
4. Виберіть колір статусу
5. Натисніть **"Зберегти"**

### 5.4 Налаштування полів

#### Додавання поля:
1. Перейдіть в **"Налаштування"** → **"Поля"**
2. Натисніть **"Додати поле"**
3. Заповніть форму:
   - Назва поля
   - Тип поля (текст, число, дата, список)
   - Обов'язковість
   - Роль доступу
4. Натисніть **"Зберегти"**

---

## РЕЗЕРВНЕ КОПІЮВАННЯ

### 6.1 Автоматичне копіювання

#### Налаштування:
- **Частота:** Щоденно
- **Час:** 02:00
- **Зберігання:** 30 днів
- **Формат:** JSON

#### Перевірка бекапів:
1. Перейдіть в **"Налаштування"** → **"Резервні копії"**
2. Перегляньте список бекапів
3. Перевірте розмір та дату створення

### 6.2 Ручне копіювання

#### Створення бекапу:
1. Перейдіть в **"Налаштування"** → **"Резервні копії"**
2. Натисніть **"Створити бекап"**
3. Введіть назву бекапу
4. Натисніть **"Створити"**

#### Завантаження бекапу:
1. Знайдіть бекап в списку
2. Натисніть **"Завантажити"**
3. Файл завантажиться на комп'ютер

### 6.3 Відновлення з бекапу

#### Відновлення:
1. Перейдіть в **"Налаштування"** → **"Резервні копії"**
2. Натисніть **"Відновити"** біля потрібного бекапу
3. Підтвердіть відновлення
4. Система відновить дані

#### ⚠️ УВАГА: Відновлення замінить всі поточні дані!

---

## МОНІТОРИНГ ТА ЛОГИ

### 7.1 Логи користувачів

#### Перегляд логів:
1. Перейдіть в **"Моніторинг"** → **"Логи користувачів"**
2. Встановіть фільтри:
   - Користувач
   - Період
   - Тип дії
3. Перегляньте логи

#### Типи дій:
- Вхід в систему
- Вихід з системи
- Створення заявки
- Редагування заявки
- Підтвердження заявки
- Видалення заявки
- Експорт даних
- Імпорт даних

### 7.2 Системні логи

#### Перегляд системних логів:
1. Перейдіть в **"Моніторинг"** → **"Системні логи"**
2. Перегляньте логи помилок
3. Перевірте продуктивність

#### Типи логів:
- Помилки системи
- Попередження
- Інформаційні повідомлення
- Логи продуктивності

### 7.3 Моніторинг активності

#### Активні користувачі:
1. Перейдіть в **"Моніторинг"** → **"Активні користувачі"**
2. Перегляньте список активних користувачів
3. Перевірте час останньої активності

#### Статистика використання:
- Кількість заявок за період
- Найактивніші користувачі
- Найпопулярніші функції
- Час відгуку системи

---

## ВИРІШЕННЯ ПРОБЛЕМ

### 8.1 Проблеми з користувачами

#### Користувач не може увійти:
1. Перевірте, чи не заблокований акаунт
2. Перевірте правильність логіну та пароля
3. Перевірте права доступу
4. Скиньте пароль

#### Користувач не бачить заявки:
1. Перевірте права доступу до регіону
2. Перевірте налаштування фільтрів
3. Перевірте статус заявок

### 8.2 Проблеми з даними

#### Заявки не зберігаються:
1. Перевірте підключення до бази даних
2. Перевірте права доступу
3. Перевірте валідацію даних

#### Дані відображаються неправильно:
1. Очистіть кеш браузера
2. Перевірте налаштування колонок
3. Перевірте фільтри

### 8.3 Проблеми з імпортом

#### Імпорт не працює:
1. Перевірте формат файлу
2. Перевірте наявність заголовків
3. Перевірте мапінг полів
4. Перевірте розмір файлу

#### Помилки при імпорті:
1. Перевірте формат даних
2. Перевірте обов'язкові поля
3. Перевірте валідацію даних

### 8.4 Проблеми з продуктивністю

#### Система працює повільно:
1. Перевірте навантаження на сервер
2. Перевірте розмір бази даних
3. Перевірте кількість активних користувачів
4. Оптимізуйте запити

#### Помилки 500:
1. Перевірте логи сервера
2. Перевірте підключення до бази даних
3. Перевірте ресурси сервера

---

## БЕЗПЕКА

### 9.1 Управління паролями

#### Вимоги до паролів:
- Мінімум 8 символів
- Мінімум 1 велика літера
- Мінімум 1 мала літера
- Мінімум 1 цифра
- Мінімум 1 спеціальний символ

#### Політика паролів:
- Зміна кожні 90 днів
- Заборона повторного використання
- Блокування після 5 невдалих спроб

### 9.2 Аудит безпеки

#### Регулярні перевірки:
- Перевірка активних сесій
- Перевірка прав доступу
- Перевірка логів безпеки
- Перевірка резервних копій

#### Звіти безпеки:
- Спроби несанкціонованого доступу
- Підозріла активність
- Зміни в налаштуваннях безпеки

### 9.3 Резервне копіювання

#### Стратегія бекапів:
- Щоденні автоматичні бекапи
- Щотижневі повні бекапи
- Щомісячні архівні бекапи
- Зберігання в безпечному місці

#### Тестування відновлення:
- Щомісячне тестування відновлення
- Перевірка цілісності даних
- Документування процесу

---

## КОНТАКТИ ТА ПІДТРИМКА

### Технічна підтримка:
- **Email:** admin@darex-trading.com
- **Телефон:** +380 (XX) XXX-XX-XX
- **Час роботи:** Пн-Пт 9:00-18:00

### Екстрені ситуації:
- **Телефон:** +380 (XX) XXX-XX-XX
- **Email:** emergency@darex-trading.com
- **Доступність:** 24/7

### Документація:
- **Технічна документація:** /docs
- **API документація:** /api-docs
- **Журнал змін:** /changelog

---

*Інструкція адміністратора оновлена: Вересень 2025*  
*Версія: 1.0*  
*Система DTS v2.0*
